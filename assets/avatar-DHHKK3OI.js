import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{a as k,r as m}from"./iframe-2r-4sk-G.js";import{c as T,u as M}from"./index-BSYgtp2B.js";import{u as E}from"./index-DpjvyGHH.js";import{P as w}from"./index-Bf5OD08m.js";import{t as V}from"./bundle-mjs-D6B6e0vX.js";import{B as z}from"./button-DQWdcEmz.js";import{E as P}from"./icons-BrtHK9pW.js";var x={exports:{}},y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b;function F(){if(b)return y;b=1;var e=k();function a(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var s=typeof Object.is=="function"?Object.is:a,n=e.useState,o=e.useEffect,t=e.useLayoutEffect,c=e.useDebugValue;function u(r,i){var p=i(),g=n({inst:{value:p,getSnapshot:i}}),f=g[0].inst,h=g[1];return t(function(){f.value=p,f.getSnapshot=i,l(f)&&h({inst:f})},[r,p,i]),o(function(){return l(f)&&h({inst:f}),r(function(){l(f)&&h({inst:f})})},[r]),c(p),p}function l(r){var i=r.getSnapshot;r=r.value;try{var p=i();return!s(r,p)}catch{return!0}}function v(r,i){return i()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:u;return y.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:S,y}var L;function B(){return L||(L=1,x.exports=F()),x.exports}var U=B();function $(){return U.useSyncExternalStore(D,()=>!0,()=>!1)}function D(){return()=>{}}var A="Avatar",[G]=T(A),[H,C]=G(A),I=m.forwardRef((e,a)=>{const{__scopeAvatar:s,...n}=e,[o,t]=m.useState("idle");return d.jsx(H,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:d.jsx(w.span,{...n,ref:a})})});I.displayName=A;var R="AvatarImage",_=m.forwardRef((e,a)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:o=()=>{},...t}=e,c=C(R,s),u=K(n,t),l=M(v=>{o(v),c.onImageLoadingStatusChange(v)});return E(()=>{u!=="idle"&&l(u)},[u,l]),u==="loaded"?d.jsx(w.img,{...t,ref:a,src:n}):null});_.displayName=R;var q="AvatarFallback",N=m.forwardRef((e,a)=>{const{__scopeAvatar:s,delayMs:n,...o}=e,t=C(q,s),[c,u]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(l)}},[n]),c&&t.imageLoadingStatus!=="loaded"?d.jsx(w.span,{...o,ref:a}):null});N.displayName=q;function j(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function K(e,{referrerPolicy:a,crossOrigin:s}){const n=$(),o=m.useRef(null),t=n?(o.current||(o.current=new window.Image),o.current):null,[c,u]=m.useState(()=>j(t,e));return E(()=>{u(j(t,e))},[t,e]),E(()=>{const l=r=>()=>{u(r)};if(!t)return;const v=l("loaded"),S=l("error");return t.addEventListener("load",v),t.addEventListener("error",S),a&&(t.referrerPolicy=a),typeof s=="string"&&(t.crossOrigin=s),()=>{t.removeEventListener("load",v),t.removeEventListener("error",S)}},[t,s,a]),c}var O=I,W=_,J=N;const Q={s:"w-10 h-10",m:"w-16 h-16",l:"w-24 h-24",xl:"w-40 h-40"},X=({size:e="m",border:a=!1,src:s,alt:n,fallbackText:o,editable:t=!1,onEditClick:c})=>d.jsxs("div",{className:"relative inline-block",children:[d.jsxs(O,{"data-testid":"avatar-root",className:V("relative flex shrink-0 overflow-hidden rounded-full",Q[e],a&&"border-[6px] border-neutral-100"),children:[d.jsx(W,{src:s,alt:n,className:"aspect-square size-full object-cover"}),d.jsx(J,{className:"bg-primary-100 text-primary flex size-full items-center justify-center rounded-full font-medium",children:o})]}),t&&d.jsx("div",{className:"absolute bottom-0 right-0",children:d.jsx(z,{variant:"neutral",size:"default",isCircular:!0,onClick:c,"aria-label":"Edit Avatar",children:d.jsx(P,{color:"white"})})})]});X.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{size:{required:!1,tsType:{name:"union",raw:'"s" | "m" | "l" | "xl"',elements:[{name:"literal",value:'"s"'},{name:"literal",value:'"m"'},{name:"literal",value:'"l"'},{name:"literal",value:'"xl"'}]},description:"",defaultValue:{value:'"m"',computed:!1}},border:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},src:{required:!1,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:""},fallbackText:{required:!0,tsType:{name:"string"},description:""},editable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onEditClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{X as A};
